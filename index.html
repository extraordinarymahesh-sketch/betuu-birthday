<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Betuu</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    overflow: hidden;
    font-family: 'Poppins', sans-serif;
}

canvas {
    position: fixed;
    top: 0;
    left: 0;
}

.text-box {
    position: absolute;
    left: 5%;
    top: 30%;
    width: 38%;
    color: white;
    font-size: 17px;
    line-height: 1.7;
    opacity: 0;
}

.cursor {
    display: inline-block;
    width: 2px;
    height: 18px;
    background: white;
    animation: blink 1s infinite;
}

@keyframes blink {
    50% { opacity: 0; }
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="text-box" id="textBox">
    <span id="typed"></span><span class="cursor"></span>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

// ---- BALL ----
let ballY = -40;
let ballX = canvas.width / 2;
const ground = canvas.height * 0.78;

// ---- TREE ----
let grow = 0;
let treeX = canvas.width / 2;
let shiftDone = false;

// ---- HEART DRAW ----
function heart(x, y, size, color) {
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x - size, y - size, x - size * 2, y + size / 2, x, y + size * 1.5);
    ctx.bezierCurveTo(x + size * 2, y + size / 2, x + size, y - size, x, y);
    ctx.fill();
}

// ---- DRAW TREE ----
function drawTree(progress) {

    // trunk
    ctx.strokeStyle = "#ff9acb";
    ctx.lineWidth = 10;
    ctx.lineCap = "round";
    ctx.beginPath();
    ctx.moveTo(treeX, ground);
    ctx.lineTo(treeX, ground - progress * 260);
    ctx.stroke();

    // heart leaves
    const heartCount = Math.floor(progress * 220);
    for (let i = 0; i < heartCount; i++) {
        const angle = Math.random() * Math.PI * 2;
        const radius = Math.random() * 150;
        const x = treeX + Math.cos(angle) * radius;
        const y = ground - 200 + Math.sin(angle) * radius;

        const colors = ["#ff5d8f", "#ff9acb", "#ff2d55"];
        heart(x, y, 6, colors[Math.floor(Math.random() * colors.length)]);
    }
}

// ---- MAIN ANIMATION ----
function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (ballY < ground) {
        ballY += 7;
        ctx.beginPath();
        ctx.arc(ballX, ballY, 12, 0, Math.PI * 2);
        ctx.fillStyle = "#ff9acb";
        ctx.fill();

    } else if (grow < 1) {
        grow += 0.012;
        drawTree(grow);

    } else if (!shiftDone) {
        treeX += 2;
        drawTree(1);
        if (treeX > canvas.width * 0.65) {
            shiftDone = true;
            startTyping();
        }

    } else {
        drawTree(1);
    }

    requestAnimationFrame(animate);
}
animate();

// ---- TYPEWRITER ----
const message = `Hey you ðŸ’—
Happy Birthday Betuu ðŸ©·ðŸ˜˜
May God bless you
And give u many happiness ðŸ’•

Just sayingâ€¦ you're pretty awesome ðŸ’–
Sending good vibes âœ¨
Hope u have a beautiful day ðŸŒ¸`;

let i = 0;
const typed = document.getElementById("typed");
const box = document.getElementById("textBox");

function startTyping() {
    box.style.opacity = 1;
    const t = setInterval(() => {
        typed.innerHTML += message[i];
        i++;
        if (i >= message.length) clearInterval(t);
    }, 45);
}
</script>

</body>
</html>
